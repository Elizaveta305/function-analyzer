<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π | –®–∫–æ–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/11.10.1/mathjs.min.js"></script>
    <style>
        /* –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ç–∏–ª–∏ –ø—Ä—è–º–æ –∑–¥–µ—Å—å */
        body { font-family: Arial; padding: 20px; max-width: 1200px; margin: 0 auto; }
        h1 { color: #2c3e50; text-align: center; }
        .input-area { display: flex; gap: 10px; margin: 20px 0; justify-content: center; }
        input { padding: 10px; width: 300px; border: 2px solid #3498db; border-radius: 5px; }
        button { padding: 10px 20px; background: #3498db; color: white; border: none; border-radius: 5px; cursor: pointer; }
        button:hover { background: #2980b9; }
        .results { display: flex; gap: 20px; margin: 30px 0; }
        .properties, .graph { flex: 1; border: 1px solid #ddd; padding: 15px; border-radius: 5px; }
        #plot { height: 400px; }
        .hint { background: #e8f4fc; padding: 15px; border-radius: 5px; margin-top: 20px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üßÆ –ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π</h1>
        <p style="text-align: center; color: #666;">–®–∫–æ–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç | 10 –∫–ª–∞—Å—Å</p>
        
        <div class="input-area">
            <input type="text" id="functionInput" 
                   placeholder="–í–≤–µ–¥–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é, –Ω–∞–ø—Ä–∏–º–µ—Ä: x^2 - 4" 
                   value="x^2">
            <button id="calculateBtn">–ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å</button>
        </div>
        
        <div class="results">
            <div class="properties">
                <h3>üìä –°–≤–æ–π—Å—Ç–≤–∞ —Ñ—É–Ω–∫—Ü–∏–∏:</h3>
                <div id="propsOutput">–§—É–Ω–∫—Ü–∏—è –Ω–µ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞. –í–≤–µ–¥–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é –∏ –Ω–∞–∂–º–∏—Ç–µ "–ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å".</div>
            </div>
            <div class="graph">
                <h3>üìà –ì—Ä–∞—Ñ–∏–∫ —Ñ—É–Ω–∫—Ü–∏–∏:</h3>
                <div id="plot">–ì—Ä–∞—Ñ–∏–∫ –ø–æ—è–≤–∏—Ç—Å—è –∑–¥–µ—Å—å –ø–æ—Å–ª–µ –∞–Ω–∞–ª–∏–∑–∞.</div>
            </div>
        </div>
        
        <div class="hint">
            <p>üí° <strong>–ü—Ä–∏–º–µ—Ä—ã —Ñ—É–Ω–∫—Ü–∏–π –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:</strong></p>
            <p><code>x^2</code> ‚Äî –∫–≤–∞–¥—Ä–∞—Ç–∏—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è (–ø–∞—Ä–∞–±–æ–ª–∞)</p>
            <p><code>x^3</code> ‚Äî –∫—É–±–∏—á–µ—Å–∫–∞—è —Ñ—É–Ω–∫—Ü–∏—è</p>
            <p><code>2*x + 1</code> ‚Äî –ª–∏–Ω–µ–π–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è</p>
            <p><code>sin(x)</code> ‚Äî —Ç—Ä–∏–≥–æ–Ω–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∞—è —Ñ—É–Ω–∫—Ü–∏—è</p>
        </div>
        
        <div style="margin-top: 30px; text-align: center; color: #777; font-size: 14px;">
            <p>–ü—Ä–æ–µ–∫—Ç –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ. –°–ª–µ–¥—É—é—â–∏–π —ç—Ç–∞–ø: –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∞–Ω–∞–ª–∏–∑–∞ —Å–≤–æ–π—Å—Ç–≤ —Ñ—É–Ω–∫—Ü–∏–π.</p>
        </div>
    </div>

    <script>
        // –ë–ê–ó–û–í–´–ô –ö–û–î –î–õ–Ø –ù–ê–ß–ê–õ–ê
        document.addEventListener('DOMContentLoaded', function() {
            const btn = document.getElementById('calculateBtn');
            const input = document.getElementById('functionInput');
            const output = document.getElementById('propsOutput');
            const plotDiv = document.getElementById('plot');
            
            btn.addEventListener('click', function() {
                const expr = input.value.trim();
                if (!expr) return;
                
                // –ü—Ä–æ—Å—Ç–µ–π—à–∏–π –∞–Ω–∞–ª–∏–∑
                let analysis = `<strong>–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º: f(x) = ${expr}</strong><br><br>`;
                
                if (expr === 'x^2' || expr.includes('^2')) {
                    analysis += '‚úÖ <strong>–¢–∏–ø:</strong> –ö–≤–∞–¥—Ä–∞—Ç–∏—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è<br>';
                    analysis += 'üìê <strong>–í–∏–¥ –≥—Ä–∞—Ñ–∏–∫–∞:</strong> –ü–∞—Ä–∞–±–æ–ª–∞<br>';
                    analysis += '‚¨ÜÔ∏è <strong>–í–µ—Ç–≤–∏:</strong> –ù–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –≤–≤–µ—Ä—Ö<br>';
                    analysis += 'üéØ <strong>–í–µ—Ä—à–∏–Ω–∞:</strong> (0, 0)<br>';
                    analysis += '‚ö´ <strong>–ù—É–ª–∏ —Ñ—É–Ω–∫—Ü–∏–∏:</strong> x = 0';
                } else if (expr === 'x^3') {
                    analysis += '‚úÖ <strong>–¢–∏–ø:</strong> –ö—É–±–∏—á–µ—Å–∫–∞—è —Ñ—É–Ω–∫—Ü–∏—è<br>';
                    analysis += 'üîÑ <strong>–°–∏–º–º–µ—Ç—Ä–∏—è:</strong> –ù–µ—á–µ—Ç–Ω–∞—è<br>';
                    analysis += '‚ö´ <strong>–ù—É–ª–∏:</strong> x = 0';
                } else if (expr === '2*x + 1') {
                    analysis += '‚úÖ <strong>–¢–∏–ø:</strong> –õ–∏–Ω–µ–π–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è<br>';
                    analysis += 'üìè <strong>–£–≥–ª–æ–≤–æ–π –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç:</strong> k = 2<br>';
                    analysis += 'üî¢ <strong>–°–≤–æ–±–æ–¥–Ω—ã–π —á–ª–µ–Ω:</strong> b = 1<br>';
                    analysis += '‚ö´ <strong>–ù—É–ª–∏:</strong> x = -0.5';
                } else {
                    analysis += 'üîç <strong>–¢–∏–ø:</strong> –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è...<br>';
                    analysis += '‚ö†Ô∏è <strong>–°—Ç–∞—Ç—É—Å:</strong> –ë–∞–∑–æ–≤–∞—è –≤–µ—Ä—Å–∏—è, –∞–Ω–∞–ª–∏–∑ —É–ø—Ä–æ—â–µ–Ω';
                }
                
                output.innerHTML = analysis;
                
                // –ü—Ä–æ—Å—Ç–µ–π—à–∏–π –≥—Ä–∞—Ñ–∏–∫
                const xValues = [];
                const yValues = [];
                
                for (let x = -5; x <= 5; x += 0.1) {
                    xValues.push(x);
                    let y;
                    if (expr === 'x^2') y = x * x;
                    else if (expr === 'x^3') y = x * x * x;
                    else if (expr === '2*x + 1') y = 2 * x + 1;
                    else if (expr === 'sin(x)') y = Math.sin(x);
                    else y = x * x; // –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
                    yValues.push(y);
                }
                
                if (typeof Plotly !== 'undefined') {
                    Plotly.newPlot(plotDiv, [{
                        x: xValues,
                        y: yValues,
                        type: 'scatter',
                        mode: 'lines',
                        line: { color: '#3498db', width: 2 }
                    }], {
                        title: `–ì—Ä–∞—Ñ–∏–∫: f(x) = ${expr}`,
                        xaxis: { title: 'x' },
                        yaxis: { title: 'f(x)' },
                        plot_bgcolor: '#f8f9fa'
                    });
                } else {
                    plotDiv.innerHTML = '<p style="color: red;">–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ Plotly –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª–∞—Å—å</p>';
                }
            });
            
            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
            setTimeout(() => btn.click(), 500);
        });
    </script>
</body>
</html>
